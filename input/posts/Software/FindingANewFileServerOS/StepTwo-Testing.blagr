Title:Finding a New Fileserver OS: Step Two - Testing
Author:rsaxvc
CreatedDateTime:2008-11-22T01:16:46
ModifiedDateTime:2008-11-22T01:16:46
Tag:FreeBSD
Tag:Nexenta OS
Tag:Non-standard RAID levels
Tag:OpenSolaris
Tag:Operating system
Tag:Solaris
Tag:VirtualBox
Tag:ZFS
---
<span class="Apple-style-span" style="color: rgb(0, 0, 0); ">Having decided on Sun's <a class="zem_slink" href="http://en.wikipedia.org/wiki/ZFS" title="ZFS" rel="wikipedia">ZFS</a>, I am left with the following list of operating systems to test:<div><ul style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0.75em; margin-left: 20px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-size: 1em; font-weight: normal; list-style-type: disc; list-style-position: outside; background-repeat: no-repeat repeat; "><li style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-size: 1em; font-weight: normal; ">Solaris</li><li style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-size: 1em; font-weight: normal; "><a class="zem_slink" href="http://en.wikipedia.org/wiki/OpenSolaris" title="OpenSolaris" rel="wikipedia">OpenSolaris</a></li><li style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-size: 1em; font-weight: normal; "><a class="zem_slink" href="http://www.nexenta.org/" title="Nexenta OS" rel="homepage">Nexenta</a></li><li style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-size: 1em; font-weight: normal; "><a class="zem_slink" href="http://www.freebsd.org/" title="FreeBSD" rel="homepage">FreeBSD</a></li><li style="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-size: 1em; font-weight: normal; ">Linux2.6/Fuse</li></ul><div><br /></div><div>Virtualbox Testing Setup(real setup):</div><div>1(4) <a class="zem_slink" href="http://en.wikipedia.org/wiki/Central_processing_unit" title="Central processing unit" rel="wikipedia">CPU</a></div><div>1(4) Gig Ram</div><div>ide0,0: 16 gig hard drive-6 for <a class="zem_slink" href="http://en.wikipedia.org/wiki/Operating_system" title="Operating system" rel="wikipedia">OS</a>, 10 for ZFS (80 gig OS drive)</div><div>ide0,1: DVDRom</div><div>ide1,0: 10 gig for ZFS</div><div>ide1,1: 10 gig for ZFS</div><div>(4x500Gig Sata)</div><div><br /></div><div>Solaris</div><div>I've worked with Solaris before, but I can't say I enjoyed it. It was a lot of work to install, but has been running non-stop save power outages for a while now. It's actually remarkably efficient, and a rather slim kernel, but I really would like to use this box as a desktop now and then.</div><div><br /></div><div>OpenSolaris</div><div>OpenSolaris has come a long way. I mount the ISO, boot off the CD, it asks me to choose a kernel with GRUB(I choose x86 + gui), and then the machine boots into a full <a class="zem_slink" href="http://www.gnome.org/" title="GNOME" rel="homepage">Gnome Desktop</a>. Next a fancy graphical installer installs to the 6 gig partition with standard ZFS flawlessly. I can even play gnibbles in the VM. After a reboot, everything works perfectly. Creating the <a class="zem_slink" href="http://en.wikipedia.org/wiki/Non-standard_RAID_levels" title="Non-standard RAID levels" rel="wikipedia">RaidZ</a> pool was equally easy (for someone who knows the Solaris command-line). It even has a graphical package manager, not the same as aptitude, but I can deal.</div><div><br /></div><div>Nexenta</div><div>Nexenta is supposed to be the Ubuntu of Solaris. However, it seems a lot like they repacked Solaris packages as DEBs. There's a ton of packages named SUNW....blahblahblah...blah...packagename. Creating a RaidZ pool was rather easy though, as it should be, and completed the creation in less than 30 seconds. However, Nexenta doesn't support ZFS compression or encryption, which is a huge bummer. ZFS compression, applied sparingly, often increases write speed at the expense of some minor CPU performance.<br /></div><div><br /></div><div>FreeBSD</div><div>Odd - I couldn't get FreeBSD to install in <a class="zem_slink" href="http://www.virtualbox.org" title="VirtualBox" rel="homepage">VirtualBox</a>. Backburnered.</div><div><br /></div><div>Linux2.6/Fuse</div><div>This worries me:&nbsp;<a href="http://zfs-on-fuse.blogspot.com/" style="text-decoration: underline; ">http://zfs-on-fuse.blogspot.com/</a>&nbsp;So, it seems that ZFS/Fuse currently suffers from the Gigantic Raid Write Whole. You have to disable your drive write buffers if you're using anything like MD or LVM with it, which often makes things very slow. Backburnered.&nbsp;</div></div></span>
