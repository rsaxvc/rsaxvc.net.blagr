Title:Learning about HammerSpace's Andover Controls Systems
Author:rsaxvc
CreatedDateTime:2011-06-20T23:07:32
ModifiedDateTime:2011-06-20T23:09:42
Tag:Andover Controls
Tag:Cingular
Tag:Control Systems
Tag:HVAC
Tag:RS-232
Tag:RS-485
Tag:SNMP
Tag:TCP
Tag:serial
---
The best I can Andover Controls is a company that made facility automation systems. Connect multiple buildings together, and control access, security, fire alarms and controls, power system, HVAC, and more from a central location. The system installed at HammerSpace controlled at least access, power, and HVAC. They used a mixture of RS-485 and ethernet to control the system. Since HammerSpace used to be a network trunk center for Cingular, the system is far overspec'd for the current purpose. We'd like to control the network, but do not have any software belonging to it. Thus the saga begins.<div><br /></div><div>First, the Andover Controls systems installation is modular, and consists of the following components:&nbsp;</div><div><br /></div><meta http-equiv="content-type" content="text/html; charset=utf-8"><div>Two units provide I/O, an&nbsp;<a href="http://www.flickr.com/photos/40925843@N03/5478137238">DX 800i</a>&nbsp;and an <a href="http://www.flickr.com/photos/40925843@N03/5478137238">LCX810</a>.&nbsp;The 800i is an input-only device, although there are relay solder points. The LCX810 has 8 input and 8 outputs for controlling HVAC systems.</div><meta http-equiv="content-type" content="text/html; charset=utf-8"><div><br /></div><div><meta http-equiv="content-type" content="text/html; charset=utf-8">An <a href="http://www.flickr.com/photos/40925843@N03/5478139288/">ACX780</a>&nbsp;provides access control interfaces to prox readers. I assume a clocked serial like most prox and card readers.</div><meta http-equiv="content-type" content="text/html; charset=utf-8"><div><br /></div><div><meta http-equiv="content-type" content="text/html; charset=utf-8"><div><a href="http://www.flickr.com/photos/40925843@N03/5477545321/" style="text-decoration: underline; ">i2 867</a>&nbsp;units are the most complicated thermostats I've ever seen. Dave ended up putting a thermometer on one since it doesn't have a display.</div></div><div><br /></div><div>A CX9200 provides an ethernet management interface to the rest of the system, or at least it used to. It also has four serial ports, and one of them is attached to a touch-screen controller with a broken display. Because we lacked the needed 25-pin serial connector, we went for ethernet first(I left my serial adapters at home, as I didn't know I'd be fiddling around with anything fun). After rebooting the system, it sent out some diagnostic packets and an ARP request.</div><div><br /></div><div><a href="http://www.flickr.com/photos/40925843@N03/5855099955/" title="Andover1 by rsaxvc, on Flickr"><img src="http://farm3.static.flickr.com/2760/5855099955_a843462043.jpg" width="500" height="255" alt="Andover1" /></a></div><div><br /></div><div>So of course, I set my laptop to appear as that IP address...</div><div><br /></div><div><a href="http://www.flickr.com/photos/40925843@N03/5855651472/" title="Andover2 by rsaxvc, on Flickr"><img src="http://farm3.static.flickr.com/2611/5855651472_71bbd51882.jpg" width="500" height="254" alt="Andover2" /></a></div><div><br /></div><div>Hey look, SNMP traffic. I've peppered out the community string, but at least now we're getting somewhere. Next we NMAPed the IP address to find two open TCP ports: 33440 and 33456. 33440 appears to have a simple ascii text client, but everything I've entered emits the same error message and closes the connection. 33456 emits some binary data and closes the connection.&nbsp;I need to look for a MIB to explain the SNMP trap.</div><div><br /></div><div>Next to investigate are the serial ports. There's one designated to be attached to a modem, and another attached to a touch screen. Hopefully the modem port has a text-UI we can use. That is, after finding the serial port settings.</div><div><br /></div><div>Also, I've posted a few datasheets here:<a href="http://rsaxvc.net/datasheets/hammerspace/">http://rsaxvc.net/datasheets/hammerspace/</a></div><meta http-equiv="content-type" content="text/html; charset=utf-8">
